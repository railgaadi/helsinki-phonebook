(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(14),c=t.n(u),o=t(4),l=t(2),i=function(e){var n=e.name,t=e.number,a=e.id,u=e.handleDelete;return r.a.createElement("li",null,n,":",t," ",r.a.createElement("button",{onClick:function(){return u(a,n)}},"Delete")," ")},m=function(e){var n=e.handleFilter;return r.a.createElement("div",null,"Filter by: ",r.a.createElement("input",{onChange:n}))},d=function(e){var n=e.message,t={backgroundColor:e.isFailure?"red":"green",border:"blue 2 solid",borderRadius:"3",padding:"5",color:"white"};return null===n?null:r.a.createElement("div",{className:"notification",style:t},r.a.createElement("p",null,n))},f=function(e){var n=e.value,t=e.onChange;return r.a.createElement("input",{value:n,onChange:t})},b=function(e){var n=e.handleFormSubmit,t=e.newName,a=e.setNewName,u=e.newNumber,c=e.setNewNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement(f,{value:t,onChange:function(e){return a(e.target.value)}}),"number: ",r.a.createElement(f,{value:u,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s=t(3),h=t.n(s),p="/api/persons",v=function(){return h.a.get(p).then((function(e){return e.data}))},E=function(e){return h.a.post(p,e).then((function(e){return e.data}))},w=function(e){return h.a.delete("".concat(p,"/").concat(e))},g=function(e,n){return h.a.put("".concat(p,"/").concat(e),n).then((function(e){return e.data}))},j=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(!1),f=Object(l.a)(c,2),s=f[0],h=f[1],p=Object(a.useState)(""),j=Object(l.a)(p,2),O=j[0],N=j[1],k=Object(a.useState)(""),C=Object(l.a)(k,2),S=C[0],F=C[1],y=Object(a.useState)(null),D=Object(l.a)(y,2),U=D[0],J=D[1],x=Object(a.useState)([]),A=Object(l.a)(x,2),B=A[0],I=A[1];Object(a.useEffect)((function(){v().then((function(e){I(e),u(e)}))}),[]);var P=function(e,n){window.confirm("Delete ".concat(n,"?")),w(e).then((function(){v().then((function(e){I(e),u(e),T("Deleted ".concat(n))}))}))},R=function(){return B.find((function(e){return e.name===O}))},T=function(e){J(e),setTimeout((function(){J(null)}),2e3)};return r.a.createElement("div",null,r.a.createElement(d,{message:U,isFailure:s}),r.a.createElement("h1",null,"Filter"),r.a.createElement(m,{handleFilter:function(e){var n=e.target.value.toUpperCase();u(B.filter((function(e){return e.name.toUpperCase().includes(n)})))}}),r.a.createElement("h1",null,"Phonebook"),r.a.createElement(b,{handleFormSubmit:function(e){var n=R();if(n){e.preventDefault(),window.confirm("".concat(O," is already in the phonebook, replace old number with new number?"));var t=Object(o.a)(Object(o.a)({},n),{},{number:S});g(n.id,t).then((function(e){T("Updated ".concat(e.name)),I(B.map((function(t){return t.id!==n.id?t:e}))),u(B.map((function(t){return t.id!==n.id?t:e}))),N(""),F("")})).catch((function(e){T("".concat(t.name," was deleted from server already")),h(!0)})),N("")}else{e.preventDefault(),E({name:O,number:S}).then((function(e){T("Added ".concat(O)),I(B.concat(e)),u(B.concat(e)),N(""),F("")}))}},newName:O,newNumber:S,setNewName:N,setNewNumber:F}),r.a.createElement("h1",null,"Numbers"),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement(i,{key:e.id,id:e.id,name:e.name,number:e.number,handleDelete:P})}))))};t(37);c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.99d73492.chunk.js.map